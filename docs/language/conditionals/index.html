<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="/icons/icon.png"
      media="(prefers-color-scheme: light)"
    />
    <link
      rel="icon"
      href="/icons/icon-light.png"
      media="(prefers-color-scheme: dark)"
    />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <title>Conditionals</title>
  </head>

  <body>
    <header>
      <a id="logo" href="/">
        <img src="/icons/icon.svg" />
        Pointless
      </a>

      <nav>
        <ul>
          <li><a href="/intro/">Intro</a></li>
          <li><a href="/philosophy/">Philosophy</a></li>
          <li><a href="/language/">Language</a></li>
          <li><a href="/stdlib/">Standard Library</a></li>
          <li><a href="/articles/">Articles</a></li>
          <li><a href="/editor/">Editor</a></li>
        </ul>
      </nav>
    </header>

    <article>
      <div id="title">
        <h1>
          <a href=".." id="parent">Language Reference:</a>
          <a href=".">Conditionals</a>
        </h1>
        <p>
          If and match expressions, running code based on one or more conditions
        </p>
      </div>

      <main>
        <p>
          Conditionals allow programs to run code conditionally; that is, based
          on one or more conditions. Pointless has two conditional constructs:
          <code>if</code> expressions and <code>match</code> expressions.
        </p>

        <hr />

        <h2 id="if-expressions">
          <a href="#if-expressions">If Expressions</a>
        </h2>
        <p>The basic form of an <code>if</code> expression has the syntax</p>

        <div class="snippet undefined">
          <pre><code class="ptls"><span class="keyword">if</span> condition <span class="keyword">then</span>
  ...thenBlock
<span class="keyword">else</span>
  ...elseBlock
<span class="keyword">end</span></code></pre>
        </div>
        <p>in which</p>
        <ul>
          <li>
            <code>conition</code> is an expression that evaluates to a boolean
          </li>
          <li>
            <code>...thenBlock</code> is a
            <a href="misc#code-blocks">code block</a> that is evaluated if
            <code>condition</code> is <code>true</code>
          </li>
          <li>
            <code>...elseBlock</code> is a
            <a href="misc#code-blocks">code block</a> that is evaluated if
            <code>condition</code> is <code>false</code>
          </li>
          <li>
            The <code>if</code> and <code>else</code> parts of the expression
            are known as <em>branches</em>
          </li>
        </ul>
        <p>
          The value of the <code>if</code> expression is equal to the value of
          whichever branch&#39;s code block is evaluated. In the example below,
          <code>sign</code> is set to <code>positive</code> since
          <code>n &gt;= 0</code> is <code>true</code>.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">n <span class="operator">=</span> <span class="number">0</span>

sign <span class="operator">=</span> <span class="keyword">if</span> n <span class="operator">&gt;=</span> <span class="number">0</span> <span class="keyword">then</span> <span class="quotes">&quot;</span><span class="string">positive</span><span class="quotes">&quot;</span> <span class="keyword">else</span> <span class="quotes">&quot;</span><span class="string">negative</span><span class="quotes">&quot;</span> <span class="keyword">end</span></code></pre>

          <pre class="result" style="undefined"><code>sign =
&quot;positive&quot;</code></pre>
        </div>
        <hr />

        <h2 id="elif-branches">
          <a href="#elif-branches">Elif Branches</a>
        </h2>
        <p>
          <code>if</code> expressions may contain one or more
          <code>elif</code> branches, each with a condition and a code block
          that is evaluated the condition is true. The conditions of the
          <code>if</code> and <code>elif</code> branches are tested in order; as
          soon as an <code>if</code> or <code>elif</code> condition evaluates to
          true, that branch&#39;s code block is evaluated and its value becomes
          the value of the <code>if</code> expression. No later branches are
          tested or evaluated.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">n <span class="operator">=</span> <span class="number">0</span>

sign <span class="operator">=</span> <span class="keyword">if</span> n <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">then</span>
  <span class="quotes">&quot;</span><span class="string">positive</span><span class="quotes">&quot;</span>
<span class="keyword">elif</span> n <span class="operator">&lt;</span> <span class="number">0</span> <span class="keyword">then</span>
  <span class="quotes">&quot;</span><span class="string">negative</span><span class="quotes">&quot;</span>
<span class="keyword">else</span>
  <span class="quotes">&quot;</span><span class="string">zero</span><span class="quotes">&quot;</span>
<span class="keyword">end</span></code></pre>

          <pre class="result" style="undefined"><code>sign =
&quot;zero&quot;</code></pre>
        </div>
        <hr />

        <h2 id="if-without-else">
          <a href="#if-without-else">If Without Else</a>
        </h2>
        <p>
          <code>if</code> expressions don&#39;t need to have
          <code>else</code> branches. If none of the <code>if</code> or
          <code>elif</code> branches in an <code>if</code> expression have
          conditions that are <code>true</code>, and the expression has no
          <code>else</code> branch, then the expression evaluates to
          <code>none</code>.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">health <span class="operator">=</span> <span class="number">2</span>

<span class="keyword">if</span> health <span class="operator">==</span> <span class="number">0</span> <span class="keyword">then</span>
  <span class="call">print</span>(<span class="quotes">&quot;</span><span class="string">game over</span><span class="quotes">&quot;</span>)
<span class="keyword">end</span></code></pre>
          <pre class="result" style="undefined"><code>none
</code></pre>
        </div>
        <hr />

        <h2 id="if-as-a-statement">
          <a href="#if-as-a-statement">If as a Statement</a>
        </h2>
        <p>
          An <code>if</code> expression may also be used as a
          <a href="misc#statements">statement</a>, in which case its value is
          ignored. In these cases, the expression is used to run
          <a href="../misc#side-effects">side effects</a> (like printing a value
          or updating a variable) while the result of the expression itself is
          not used.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">rect <span class="operator">=</span> { width: <span class="number">3</span>, height: <span class="number">4</span> }
scale <span class="operator">=</span> <span class="number">2</span>

<span class="keyword">if</span> scale <span class="operator">==</span> <span class="number">1</span> <span class="keyword">then</span>
  <span class="call">print</span>(<span class="quotes">&quot;</span><span class="string">no scaling need</span><span class="quotes">&quot;</span>)
<span class="keyword">else</span>
  rect.width <span class="operator">*=</span> scale
  rect.height <span class="operator">*=</span> scale
<span class="keyword">end</span>

rect</code></pre>
          <pre class="result" style="undefined"><code>none
{ width: 6, height: 8 }
</code></pre>
        </div>
        <p>
          The <code>none</code> in the output above is the unused result from
          the <code>if</code> expression.
        </p>

        <hr />

        <h2 id="match-expressions">
          <a href="#match-expressions">Match Expressions</a>
        </h2>
        <p>The basic form of a <code>match</code> expression has the syntax</p>

        <div class="snippet undefined">
          <pre><code class="ptls"><span class="keyword">match</span> expression
  <span class="keyword">case</span> option <span class="keyword">then</span>
    ...block

  <span class="keyword">case</span> option <span class="keyword">then</span>
    ...block

  ...

  <span class="keyword">case</span> option <span class="keyword">then</span>
    ...block

  <span class="keyword">else</span> ...elseBlock
<span class="keyword">end</span></code></pre>
        </div>
        <p>in which</p>
        <ul>
          <li>
            <code>expression</code> and each <code>optionN</code> are
            expressions
          </li>
          <li>
            each <code>...block</code> is a
            <a href="misc#code-blocks">code block</a> that is evaluated if the
            corresponding <code>option</code>
            <a href="../objects#object-matching">matches</a>
            <code>expression</code>
          </li>
          <li>
            <code>...elseBlock</code> is a
            <a href="misc#code-blocks">code block</a> that is evaluated if none
            of the options matched expression
          </li>
          <li>
            The <code>case</code> and <code>else</code> parts of the expression
            are each known as <em>branches</em>
          </li>
          <li>
            The <code>match</code> expression contains any number of
            <code>case</code> branches
          </li>
        </ul>
        <p>
          The value of the <code>match</code> expression is equal to the value
          of whichever branch&#39;s code block is evaluated. The option
          expressions of the <code>case</code> branches are tested in order; as
          soon as an option is found that
          <a href="../objects#object-matching">matches</a> the value of
          <code>expression</code> , that branch&#39;s code block is evaluated
          and its value becomes the value of the <code>match</code> expression.
          No later branches are tested or evaluated.
        </p>
        <p>
          In the example below, <code>parity</code> is set to
          <code>odd</code> since <code>n % 2</code> is <code>1</code>.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">n <span class="operator">=</span> <span class="number">5</span>

parity <span class="operator">=</span> <span class="keyword">match</span> n <span class="operator">%</span> <span class="number">2</span>
  <span class="keyword">case</span> <span class="number">0</span> <span class="keyword">then</span> <span class="quotes">&quot;</span><span class="string">even</span><span class="quotes">&quot;</span>
  <span class="keyword">case</span> <span class="number">1</span> <span class="keyword">then</span> <span class="quotes">&quot;</span><span class="string">odd</span><span class="quotes">&quot;</span>
  <span class="keyword">else</span>        <span class="quotes">&quot;</span><span class="string">non integer</span><span class="quotes">&quot;</span>
<span class="keyword">end</span></code></pre>

          <pre class="result" style="undefined"><code>parity =
&quot;odd&quot;</code></pre>
        </div>
        <hr />

        <h2 id="match-without-else">
          <a href="#match-without-else">Match without Else</a>
        </h2>
        <p>
          <code>match</code> expressions don&#39;t need to have
          <code>else</code> branches. If none of the <code>case</code> branches
          in a <code>match</code> expression have options that match the value
          of <code>expression</code>, and the <code>match</code> expression has
          no <code>else</code> branch, then the expression evaluates to
          <code>none</code>.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">n <span class="operator">=</span> <span class="number">1.5</span>

parity <span class="operator">=</span> <span class="keyword">match</span> n <span class="operator">%</span> <span class="number">2</span>
  <span class="keyword">case</span> <span class="number">0</span> <span class="keyword">then</span> <span class="quotes">&quot;</span><span class="string">even</span><span class="quotes">&quot;</span>
  <span class="keyword">case</span> <span class="number">1</span> <span class="keyword">then</span> <span class="quotes">&quot;</span><span class="string">odd</span><span class="quotes">&quot;</span>
<span class="keyword">end</span></code></pre>

          <pre class="result" style="undefined"><code>parity =
none</code></pre>
        </div>
        <hr />

        <h2 id="multi-option-cases">
          <a href="#multi-option-cases">Multi-Option Cases</a>
        </h2>
        <p>
          <code>case</code> branches can have multiple option expressions,
          separated by commas <code>,</code>. If any one of a branches options
          matches the value of <code>expression</code>, then the branch is
          evaluated.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">shape <span class="operator">=</span> { type: <span class="quotes">&quot;</span><span class="string">rectangle</span><span class="quotes">&quot;</span>, width: <span class="number">3</span>, height: <span class="number">4</span> }

width <span class="operator">=</span> <span class="keyword">match</span> shape.type
  <span class="keyword">case</span> <span class="quotes">&quot;</span><span class="string">square</span><span class="quotes">&quot;</span>, <span class="quotes">&quot;</span><span class="string">rectangle</span><span class="quotes">&quot;</span> <span class="keyword">then</span> shape.width
  <span class="keyword">case</span> <span class="quotes">&quot;</span><span class="string">circle</span><span class="quotes">&quot;</span>              <span class="keyword">then</span> shape.radius <span class="operator">*</span> <span class="number">2</span>
<span class="keyword">end</span></code></pre>

          <pre class="result" style="undefined"><code>width =
3</code></pre>
        </div>
        <hr />

        <h2 id="match-as-a-statement">
          <a href="#match-as-a-statement">Match as a Statement</a>
        </h2>
        <p>
          A <code>match</code> expression may also be used as a
          <a href="misc#statements">statement</a>, in which case its value is
          ignored. In these cases, the expression is used to run side effects
          (like printing a value, setting a variable, or returning from a
          function) while the result of the expression itself is not used.
        </p>

        <div class="snippet undefined">
          <pre><code class="ptls">shape <span class="operator">=</span> { type: <span class="quotes">&quot;</span><span class="string">rectangle</span><span class="quotes">&quot;</span>, width: <span class="number">3</span>, height: <span class="number">4</span> }
scale <span class="operator">=</span> <span class="number">2</span>

<span class="keyword">match</span> shape.type
  <span class="keyword">case</span> <span class="quotes">&quot;</span><span class="string">square</span><span class="quotes">&quot;</span> <span class="keyword">then</span>
    shape.width <span class="operator">*=</span> <span class="number">2</span>

  <span class="keyword">case</span> <span class="quotes">&quot;</span><span class="string">rectangle</span><span class="quotes">&quot;</span> <span class="keyword">then</span>
    shape.width <span class="operator">*=</span> <span class="number">2</span>
    shape.height <span class="operator">*=</span> <span class="number">2</span>

  <span class="keyword">case</span> <span class="quotes">&quot;</span><span class="string">circle</span><span class="quotes">&quot;</span> <span class="keyword">then</span>
    shape.radius <span class="operator">*=</span> <span class="number">2</span>
<span class="keyword">end</span>

shape</code></pre>
          <pre class="result" style="undefined"><code>none
{ type: &quot;rectangle&quot;, width: 6, height: 8 }
</code></pre>
        </div>

        <div id="sequencer">
          <hr />
          <div>
            <a href="/language/immutability">
              <div>Previous</div>
              Immutability
            </a>

            <a class="next" href="/language/functions">
              <div>Next</div>
              Function Definitions
            </a>
          </div>
        </div>
      </main>
    </article>
  </body>
</html>
